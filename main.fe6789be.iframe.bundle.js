(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(ClientApi.d)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.e)(loader,!1)}));case"parameters":return Object(ClientApi.f)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.b)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"render":return Object(ClientApi.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.f)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./components/Canvas/Canvas.stories.tsx":"./src/components/Canvas/Canvas.stories.tsx","./components/LocalStorageItem/useLocalStorageItem.stories.tsx":"./src/components/LocalStorageItem/useLocalStorageItem.stories.tsx","./components/UserMedia/useUserMedia.stories.tsx":"./src/components/UserMedia/useUserMedia.stories.tsx","./components/Video/Video.stories.tsx":"./src/components/Video/Video.stories.tsx","./components/WebSocket/useClientConnection.stories.tsx":"./src/components/WebSocket/useClientConnection.stories.tsx","./components/WindowSize/useWindowSize.stories.tsx":"./src/components/WindowSize/useWindowSize.stories.tsx","./components/mapboxgl/Map.stories.tsx":"./src/components/mapboxgl/Map.stories.tsx","./components/three.js/THREEView.stories.tsx":"./src/components/three.js/THREEView.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./src/components/Canvas/Canvas.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Canvas_stories_Default}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),Canvas=Object(react.forwardRef)((function(_ref,forwardedRef){var width=_ref.width,height=_ref.height,_ref$flip=_ref.flip,flip=void 0!==_ref$flip&&_ref$flip,style=_ref.style,className=_ref.className,_ref2=Object(react.useRef)(),contextRef=Object(react.useRef)();return Object(react.useEffect)((function(){_ref2.current&&(_ref2.current.width=width)}),[_ref2,width]),Object(react.useEffect)((function(){_ref2.current&&(_ref2.current.height=height)}),[_ref2,height]),Object(react.useEffect)((function(){if(contextRef.current)return flip&&(contextRef.current.translate(width,0),contextRef.current.scale(-1,1)),function(){contextRef.current&&flip&&(contextRef.current.scale(1,1),contextRef.current.translate(-width,0))}}),[_ref2,width,flip]),Object(react.useEffect)((function(){if(_ref2.current)return contextRef.current=_ref2.current.getContext("2d"),function(){contextRef.current=null}}),[_ref2]),Object(react.useImperativeHandle)(forwardedRef,(function(){return{drawContext:function drawContext(video){contextRef.current&&contextRef.current.drawImage(video,0,0,video.videoWidth,video.videoHeight)},clearContext:function clearContext(){_ref2.current&&contextRef.current&&contextRef.current.clearRect(0,0,_ref2.current.width,_ref2.current.height)},getContext:function getContext(){return contextRef.current},width:function width(){return _ref2.current?_ref2.current.width:0},height:function height(){return _ref2.current?_ref2.current.height:0}}})),Object(jsx_runtime.jsx)("canvas",{ref:function ref(newRef){_ref2.current=newRef},style:style,className:className})}));Canvas.displayName="Canvas";try{Canvas.displayName="Canvas",Canvas.__docgenInfo={description:"",displayName:"Canvas",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},flip:{defaultValue:{value:"false"},description:"",name:"flip",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Canvas/Canvas.tsx#Canvas"]={docgenInfo:Canvas.__docgenInfo,name:"Canvas",path:"src/components/Canvas/Canvas.tsx#Canvas"})}catch(__react_docgen_typescript_loader_error){}__webpack_exports__.default={title:"Canvas"};var Canvas_stories_Default=function Default(_ref){var _canvas$current,_canvas$current2,width=_ref.width,height=_ref.height,flip=_ref.flip,canvas=Object(react.useRef)(),draw=Object(react.useCallback)((function(){if(canvas&&canvas.current){var context=canvas.current.getContext();if(context){var gradient=context.createLinearGradient(0,0,canvas.current.width(),canvas.current.height());gradient.addColorStop(0,"green"),gradient.addColorStop(.5,"cyan"),gradient.addColorStop(1,"red"),context.fillStyle=gradient,context.fillRect(0,0,canvas.current.width(),canvas.current.height())}}}),[]);return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(Canvas,{ref:function ref(_ref2){return canvas.current=_ref2},width:width,height:height,flip:flip}),Object(jsx_runtime.jsx)("br",{}),"Width: ",null===(_canvas$current=canvas.current)||void 0===_canvas$current?void 0:_canvas$current.width()," Height: ",null===(_canvas$current2=canvas.current)||void 0===_canvas$current2?void 0:_canvas$current2.height(),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("button",{onClick:draw,children:"Draw"}),Object(jsx_runtime.jsx)("button",{onClick:function onClick(){var _canvas$current3;return null===(_canvas$current3=canvas.current)||void 0===_canvas$current3?void 0:_canvas$current3.clearContext()},children:"Clear"})]})};Canvas_stories_Default.displayName="Default",Canvas_stories_Default.args={width:640,height:480,flip:!1},Canvas_stories_Default.parameters=Object.assign({storySource:{source:"({ width, height, flip }: Props) => {\n  const canvas = useRef<CanvasMethods | null>()\n\n  const draw = useCallback(() => {\n    if (!canvas || !canvas.current) {\n      return\n    }\n    const context = canvas.current.getContext()\n    if (!context) {\n      return\n    }\n    let gradient = context.createLinearGradient(\n      0,\n      0,\n      canvas.current.width(),\n      canvas.current.height()\n    )\n    gradient.addColorStop(0, 'green')\n    gradient.addColorStop(0.5, 'cyan')\n    gradient.addColorStop(1, 'red')\n\n    context.fillStyle = gradient\n    context.fillRect(0, 0, canvas.current.width(), canvas.current.height())\n  }, [])\n\n  // const drawIntoVideo = useCallback(() => {\n  // }, [])\n\n  return (\n    <div>\n      <Canvas\n        ref={(ref) => (canvas.current = ref)}\n        width={width}\n        height={height}\n        flip={flip}\n      />\n      <br />\n      Width: {canvas.current?.width()} Height: {canvas.current?.height()}\n      <br />\n      <button onClick={draw}>Draw</button>\n      <button onClick={() => canvas.current?.clearContext()}>Clear</button>\n    </div>\n  )\n}"}},Canvas_stories_Default.parameters);try{Canvas_stories_Default.displayName="Default",Canvas_stories_Default.__docgenInfo={description:"",displayName:"Default",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},flip:{defaultValue:null,description:"",name:"flip",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Canvas/Canvas.stories.tsx#Default"]={docgenInfo:Canvas_stories_Default.__docgenInfo,name:"Default",path:"src/components/Canvas/Canvas.stories.tsx#Default"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/LocalStorageItem/useLocalStorageItem.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return useLocalStorageItem_stories_Default}));__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js"),__webpack_require__("./node_modules/core-js/modules/es.string.split.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.exec.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useLocalStorageItem_useLocalStorageItem=function useLocalStorageItem(props){var key=props.key,defaultValue=props.defaultValue,localChangeCheckSeconds=props.localChangeCheckSeconds,onChange=props.onChange,_useState2=_slicedToArray(Object(react.useState)(localStorage.getItem(key)),2),currentValue=_useState2[0],setCurrentValue=_useState2[1];return Object(react.useEffect)((function(){localStorage.getItem(key)||localStorage.setItem(key,defaultValue||"")}),[key]),Object(react.useEffect)((function(){localStorage.getItem(key)||localStorage.setItem(key,defaultValue||"")}),[defaultValue]),Object(react.useEffect)((function(){onChange&&onChange(currentValue)}),[currentValue]),Object(react.useEffect)((function(){var checkChange=function checkChange(){var checkValue=localStorage.getItem(key);checkValue!==currentValue&&setCurrentValue(checkValue)},callback=function callback(event){event.storageArea===localStorage&&checkChange()};window.addEventListener("storage",callback),localStorage.getItem(key)||localStorage.setItem(key,defaultValue||"");var intervalSubscription=void 0;return localChangeCheckSeconds&&(intervalSubscription=setInterval(checkChange,1e3*localChangeCheckSeconds)),function(){window.removeEventListener("storage",callback),intervalSubscription&&clearInterval(intervalSubscription)}}),[]),currentValue},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),useLocalStorageItem_stories_Default=(__webpack_exports__.default={title:"useLocalStorageItem"},function Default(_ref){var key=_ref.key,defaultValue=_ref.defaultValue,localChangeCheckSeconds=_ref.localChangeCheckSeconds,currentValue=useLocalStorageItem_useLocalStorageItem({key:key,defaultValue:defaultValue,localChangeCheckSeconds:localChangeCheckSeconds});return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("div",{children:currentValue}),Object(jsx_runtime.jsx)("button",{onClick:function onClick(){var getValue=localStorage.getItem(key);getValue&&localStorage.setItem(key,getValue.split("").reverse().join(""))},children:"Reverse"}),Object(jsx_runtime.jsx)("button",{onClick:function onClick(){localStorage.removeItem(key)},children:"Clear"}),Object(jsx_runtime.jsx)("button",{onClick:function onClick(){localStorage.setItem(key,defaultValue)},children:"Reset"})]})});useLocalStorageItem_stories_Default.args={key:"item1",defaultValue:"value1",localChangeCheckSeconds:1},useLocalStorageItem_stories_Default.parameters=Object.assign({storySource:{source:"({\n  key,\n  defaultValue,\n  localChangeCheckSeconds\n}: Props) => {\n  const currentValue = useLocalStorageItem({\n    key,\n    defaultValue,\n    localChangeCheckSeconds\n  })\n  return (\n    <>\n      <div>{currentValue}</div>\n      <button\n        onClick={() => {\n          const getValue = localStorage.getItem(key)\n          if (getValue) {\n            localStorage.setItem(key, getValue.split('').reverse().join(''))\n          }\n        }}\n      >\n        Reverse\n      </button>\n      <button\n        onClick={() => {\n          localStorage.removeItem(key)\n        }}\n      >\n        Clear\n      </button>\n      <button\n        onClick={() => {\n          localStorage.setItem(key, defaultValue)\n        }}\n      >\n        Reset\n      </button>\n    </>\n  )\n}"}},useLocalStorageItem_stories_Default.parameters);try{useLocalStorageItem_stories_Default.displayName="Default",useLocalStorageItem_stories_Default.__docgenInfo={description:"",displayName:"Default",props:{key:{defaultValue:null,description:"",name:"key",required:!0,type:{name:"string"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"string | null"}},localChangeCheckSeconds:{defaultValue:null,description:"",name:"localChangeCheckSeconds",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/LocalStorageItem/useLocalStorageItem.stories.tsx#Default"]={docgenInfo:useLocalStorageItem_stories_Default.__docgenInfo,name:"Default",path:"src/components/LocalStorageItem/useLocalStorageItem.stories.tsx#Default"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/UserMedia/useUserMedia.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _useUserMedia__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/UserMedia/useUserMedia.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"useUserMedia"};var Default=function Default(_ref){var _stream$getVideoTrack,audio=_ref.audio,facingMode=_ref.facingMode,width=_ref.width,height=_ref.height,idealFrameRate=_ref.idealFrameRate,stream=Object(_useUserMedia__WEBPACK_IMPORTED_MODULE_2__.a)({constraints:{audio:audio,video:{facingMode:facingMode,width:width,height:height,frameRate:{ideal:idealFrameRate}}}}).stream;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{children:["Id: ",null==stream?void 0:stream.id,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("br",{}),"Active: ",null==stream?void 0:stream.active,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("br",{}),"Video Track Count: ",null==stream||null===(_stream$getVideoTrack=stream.getVideoTracks())||void 0===_stream$getVideoTrack?void 0:_stream$getVideoTrack.length]})};Default.displayName="Default",Default.args={audio:!1,facingMode:"user",width:360,height:270,idealFrameRate:60},Default.parameters=Object.assign({storySource:{source:"({\n  audio,\n  facingMode,\n  width,\n  height,\n  idealFrameRate\n}: Props) => {\n  const { stream } = useUserMedia({\n    constraints: {\n      audio,\n      video: {\n        facingMode,\n        width,\n        height,\n        frameRate: {\n          ideal: idealFrameRate\n        }\n      }\n    }\n  })\n\n  return (\n    <div>\n      Id: {stream?.id}\n      <br />\n      Active: {stream?.active}\n      <br />\n      Video Track Count: {stream?.getVideoTracks()?.length}\n    </div>\n  )\n}"}},Default.parameters);try{Default.displayName="Default",Default.__docgenInfo={description:"",displayName:"Default",props:{audio:{defaultValue:null,description:"",name:"audio",required:!0,type:{name:"boolean"}},facingMode:{defaultValue:null,description:"",name:"facingMode",required:!0,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},idealFrameRate:{defaultValue:null,description:"",name:"idealFrameRate",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/UserMedia/useUserMedia.stories.tsx#Default"]={docgenInfo:Default.__docgenInfo,name:"Default",path:"src/components/UserMedia/useUserMedia.stories.tsx#Default"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/UserMedia/useUserMedia.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useUserMedia_useUserMedia}));__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useUserMedia_useUserMedia=function useUserMedia(_ref){var constraints=_ref.constraints,stream=Object(react.useRef)(),_useState2=_slicedToArray(Object(react.useState)(!1),2),setIsStreamSet=(_useState2[0],_useState2[1]),_useState4=_slicedToArray(Object(react.useState)(),2),error=_useState4[0],setError=_useState4[1];return Object(react.useEffect)((function(){var cancelEnable=!1;return navigator.mediaDevices.getUserMedia(constraints).then((function(result){cancelEnable||(stream.current=result,setIsStreamSet(!0))})).catch((function(reason){cancelEnable||setError(new Error("Error enabling video stream: "+JSON.stringify(reason)+"}"))})),function(){cancelEnable=!0}}),[constraints,setIsStreamSet,setError]),Object(react.useEffect)((function(){return function(){stream.current&&function stopMediaStream(stream){stream.getTracks().forEach((function(track){track.stop()}))}(stream.current)}}),[stream]),{stream:stream.current,error:error}}},"./src/components/Video/Video.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Video_stories_Default}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=(__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/react/jsx-runtime.js"));function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var _readyState=function readyState(ref){return ref.current?ref.current.readyState:HTMLMediaElement.HAVE_NOTHING},_isReady=function isReady(ref){var readyStateValue=_readyState(ref);return readyStateValue===HTMLMediaElement.HAVE_CURRENT_DATA||readyStateValue===HTMLMediaElement.HAVE_ENOUGH_DATA||readyStateValue===HTMLMediaElement.HAVE_FUTURE_DATA},_waitUntilReady=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(ref){var refInstance;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!_isReady(ref)){_context.next=3;break}return _context.abrupt("return",Promise.resolve());case 3:if(refInstance=ref.current){_context.next=6;break}throw new Error("Video element is not available yet");case 6:return _context.next=8,new Promise((function(resolve){refInstance.onloadeddata=function(){resolve(null)}}));case 8:case"end":return _context.stop()}}),_callee)})));return function waitUntilReady(_x){return _ref.apply(this,arguments)}}(),setVideoElementSettings=function setVideoElementSettings(video,_ref2){var _ref2$autoplay=_ref2.autoplay,autoplay=void 0===_ref2$autoplay||_ref2$autoplay,_ref2$muted=_ref2.muted,muted=void 0===_ref2$muted||_ref2$muted,_ref2$controls=_ref2.controls,controls=void 0!==_ref2$controls&&_ref2$controls,_ref2$crossOrigin=_ref2.crossOrigin,crossOrigin=void 0===_ref2$crossOrigin?null:_ref2$crossOrigin,_ref2$loop=_ref2.loop,loop=void 0!==_ref2$loop&&_ref2$loop,_ref2$playbackRate=_ref2.playbackRate,playbackRate=void 0===_ref2$playbackRate?1:_ref2$playbackRate,_ref2$playsInline=_ref2.playsInline,playsInline=void 0===_ref2$playsInline||_ref2$playsInline,_ref2$volume=_ref2.volume,volume=void 0===_ref2$volume?1:_ref2$volume,_ref2$stream=_ref2.stream,stream=void 0===_ref2$stream?null:_ref2$stream;video.srcObject=stream,video.autoplay=autoplay,video.controls=controls,video.crossOrigin=crossOrigin,video.loop=loop,video.playbackRate=playbackRate,video.playsInline=playsInline,video.volume=volume,video.muted=muted},Video=Object(react.forwardRef)((function(_ref3,forwardedRef){var _ref3$autoplay=_ref3.autoplay,autoplay=void 0===_ref3$autoplay||_ref3$autoplay,_ref3$muted=_ref3.muted,muted=void 0===_ref3$muted||_ref3$muted,_ref3$controls=_ref3.controls,controls=void 0!==_ref3$controls&&_ref3$controls,_ref3$crossOrigin=_ref3.crossOrigin,crossOrigin=void 0===_ref3$crossOrigin?null:_ref3$crossOrigin,_ref3$loop=_ref3.loop,loop=void 0!==_ref3$loop&&_ref3$loop,_ref3$playbackRate=_ref3.playbackRate,playbackRate=void 0===_ref3$playbackRate?1:_ref3$playbackRate,_ref3$playsInline=_ref3.playsInline,playsInline=void 0===_ref3$playsInline||_ref3$playsInline,_ref3$volume=_ref3.volume,volume=void 0===_ref3$volume?1:_ref3$volume,style=_ref3.style,className=_ref3.className,_ref3$stream=_ref3.stream,stream=void 0===_ref3$stream?null:_ref3$stream,ref=Object(react.useRef)(),onRefSet=Object(react.useCallback)((function(refInstance){refInstance?(setVideoElementSettings(refInstance,{autoplay:autoplay,controls:controls,crossOrigin:crossOrigin,loop:loop,muted:muted,playbackRate:playbackRate,playsInline:playsInline,volume:volume,stream:stream}),ref.current=refInstance):ref.current&&(ref.current.srcObject=null,ref.current=null)}),[stream,autoplay,controls,crossOrigin,loop,muted,playbackRate,playsInline,volume]);return Object(react.useEffect)((function(){return ref.current&&setVideoElementSettings(ref.current,{autoplay:autoplay,controls:controls,crossOrigin:crossOrigin,loop:loop,muted:muted,playbackRate:playbackRate,playsInline:playsInline,volume:volume,stream:stream}),function(){ref.current&&(ref.current.srcObject=null)}}),[stream,autoplay,controls,crossOrigin,loop,muted,playbackRate,playsInline,volume]),Object(react.useImperativeHandle)(forwardedRef,(function(){return{play:function play(){ref.current&&ref.current.play()},pause:function pause(){ref.current&&ref.current.pause()},readyState:function readyState(){return _readyState(ref)},isReady:function isReady(){return _isReady(ref)},waitUntilReady:(_waitUntilReady2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,_waitUntilReady(ref);case 2:case"end":return _context2.stop()}}),_callee2)}))),function waitUntilReady(){return _waitUntilReady2.apply(this,arguments)}),element:function element(){return ref.current},width:function width(){return ref.current?ref.current.width:0},height:function height(){return ref.current?ref.current.height:0}};var _waitUntilReady2})),Object(jsx_runtime.jsx)("video",{ref:onRefSet,playsInline:playsInline,style:style,className:className})}));Video.displayName="Video";try{Video.displayName="Video",Video.__docgenInfo={description:"",displayName:"Video",props:{autoplay:{defaultValue:{value:"true"},description:"",name:"autoplay",required:!1,type:{name:"boolean"}},muted:{defaultValue:{value:"true"},description:"",name:"muted",required:!1,type:{name:"boolean"}},controls:{defaultValue:{value:"false"},description:"",name:"controls",required:!1,type:{name:"boolean"}},crossOrigin:{defaultValue:{value:"null"},description:"",name:"crossOrigin",required:!1,type:{name:"string | null"}},loop:{defaultValue:{value:"false"},description:"",name:"loop",required:!1,type:{name:"boolean"}},playbackRate:{defaultValue:{value:"1"},description:"",name:"playbackRate",required:!1,type:{name:"number"}},playsInline:{defaultValue:{value:"true"},description:"",name:"playsInline",required:!1,type:{name:"boolean"}},volume:{defaultValue:{value:"1"},description:"",name:"volume",required:!1,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},stream:{defaultValue:{value:"null"},description:"",name:"stream",required:!1,type:{name:"MediaStream | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Video/Video.tsx#Video"]={docgenInfo:Video.__docgenInfo,name:"Video",path:"src/components/Video/Video.tsx#Video"})}catch(__react_docgen_typescript_loader_error){}var useUserMedia=__webpack_require__("./src/components/UserMedia/useUserMedia.ts"),Video_stories_Default=(__webpack_exports__.default={title:"Video"},function Default(_ref){var _video$current,_video$current2,_video$current3,_video$current4,autoplay=_ref.autoplay,muted=_ref.muted,controls=_ref.controls,crossOrigin=_ref.crossOrigin,loop=_ref.loop,playbackRate=_ref.playbackRate,playsInline=_ref.playsInline,volume=_ref.volume,stream=Object(useUserMedia.a)({constraints:{audio:!1,video:{facingMode:"user",width:360,height:270,frameRate:{ideal:60}}}}).stream,video=Object(react.useRef)(),play=Object(react.useCallback)((function(){video&&video.current&&video.current.play()}),[video]),pause=Object(react.useCallback)((function(){video&&video.current&&video.current.pause()}),[video]);return Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(Video,{ref:function ref(_ref2){return video.current=_ref2},stream:stream,autoplay:autoplay,muted:muted,controls:controls,crossOrigin:crossOrigin,loop:loop,playbackRate:playbackRate,playsInline:playsInline,volume:volume}),Object(jsx_runtime.jsx)("br",{}),"Ready State: ",null===(_video$current=video.current)||void 0===_video$current?void 0:_video$current.readyState()," Is Ready:"," ",null===(_video$current2=video.current)||void 0===_video$current2?void 0:_video$current2.isReady()," Width: ",null===(_video$current3=video.current)||void 0===_video$current3?void 0:_video$current3.width()," Height:"," ",null===(_video$current4=video.current)||void 0===_video$current4?void 0:_video$current4.height(),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("button",{onClick:play,children:"Play"}),Object(jsx_runtime.jsx)("button",{onClick:pause,children:"Pause"})]})});Video_stories_Default.displayName="Default",Video_stories_Default.args={autoplay:!0,muted:!0,controls:!1,crossOrigin:null,loop:!1,playbackRate:1,playsInline:!0,volume:1},Video_stories_Default.parameters=Object.assign({storySource:{source:"({\n  autoplay,\n  muted,\n  controls,\n  crossOrigin,\n  loop,\n  playbackRate,\n  playsInline,\n  volume\n}: Props) => {\n  const constraints = {\n    audio: false,\n    video: {\n      facingMode: 'user',\n      width: 360,\n      height: 270,\n      frameRate: {\n        ideal: 60\n      }\n    }\n  }\n  const { stream } = useUserMedia({ constraints })\n  const video = useRef<VideoMethods | null>()\n\n  const play = useCallback(() => {\n    if (!video || !video.current) {\n      return\n    }\n    video.current.play()\n  }, [video])\n\n  const pause = useCallback(() => {\n    if (!video || !video.current) {\n      return\n    }\n    video.current.pause()\n  }, [video])\n\n  return (\n    <div>\n      <Video\n        ref={(ref) => (video.current = ref)}\n        stream={stream}\n        autoplay={autoplay}\n        muted={muted}\n        controls={controls}\n        crossOrigin={crossOrigin}\n        loop={loop}\n        playbackRate={playbackRate}\n        playsInline={playsInline}\n        volume={volume}\n      />\n      <br />\n      Ready State: {video.current?.readyState()} Is Ready:{' '}\n      {video.current?.isReady()} Width: {video.current?.width()} Height:{' '}\n      {video.current?.height()}\n      <br />\n      <button onClick={play}>Play</button>\n      <button onClick={pause}>Pause</button>\n    </div>\n  )\n}"}},Video_stories_Default.parameters);try{Video_stories_Default.displayName="Default",Video_stories_Default.__docgenInfo={description:"",displayName:"Default",props:{autoplay:{defaultValue:null,description:"",name:"autoplay",required:!0,type:{name:"boolean"}},muted:{defaultValue:null,description:"",name:"muted",required:!0,type:{name:"boolean"}},controls:{defaultValue:null,description:"",name:"controls",required:!0,type:{name:"boolean"}},crossOrigin:{defaultValue:null,description:"",name:"crossOrigin",required:!0,type:{name:"string | null"}},loop:{defaultValue:null,description:"",name:"loop",required:!0,type:{name:"boolean"}},playbackRate:{defaultValue:null,description:"",name:"playbackRate",required:!0,type:{name:"number"}},playsInline:{defaultValue:null,description:"",name:"playsInline",required:!0,type:{name:"boolean"}},volume:{defaultValue:null,description:"",name:"volume",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Video/Video.stories.tsx#Default"]={docgenInfo:Video_stories_Default.__docgenInfo,name:"Default",path:"src/components/Video/Video.stories.tsx#Default"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/WebSocket/useClientConnection.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return useClientConnection_stories_Default}));__webpack_require__("./node_modules/core-js/modules/es.array-buffer.constructor.js"),__webpack_require__("./node_modules/core-js/modules/es.array-buffer.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.index-of.js"),__webpack_require__("./node_modules/core-js/modules/es.regexp.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.date.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.reflect.construct.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.map.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)},_wrapNativeSuper(Class)}function _construct(Parent,args,Class){return _construct=_isNativeReflectConstruct()?Reflect.construct:function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}var ConnectionClosedError=function(_Error){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(ConnectionClosedError,_Error);var _super=function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}(ConnectionClosedError);function ConnectionClosedError(){return function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ConnectionClosedError),_super.call(this,"Connection closed error")}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(ConnectionClosedError)}(_wrapNativeSuper(Error));function WebSocketError_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function WebSocketError_possibleConstructorReturn(self,call){if(call&&("object"==typeof call||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function WebSocketError_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self)}function WebSocketError_wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return WebSocketError_wrapNativeSuper=function _wrapNativeSuper(Class){if(null===Class||!function WebSocketError_isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return WebSocketError_construct(Class,arguments,WebSocketError_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),WebSocketError_setPrototypeOf(Wrapper,Class)},WebSocketError_wrapNativeSuper(Class)}function WebSocketError_construct(Parent,args,Class){return WebSocketError_construct=WebSocketError_isNativeReflectConstruct()?Reflect.construct:function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&WebSocketError_setPrototypeOf(instance,Class.prototype),instance},WebSocketError_construct.apply(null,arguments)}function WebSocketError_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function WebSocketError_setPrototypeOf(o,p){return WebSocketError_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o},WebSocketError_setPrototypeOf(o,p)}function WebSocketError_getPrototypeOf(o){return WebSocketError_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)},WebSocketError_getPrototypeOf(o)}var WebSocketError=function(_Error){!function WebSocketError_inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&WebSocketError_setPrototypeOf(subClass,superClass)}(WebSocketError,_Error);var _super=function WebSocketError_createSuper(Derived){var hasNativeReflectConstruct=WebSocketError_isNativeReflectConstruct();return function _createSuperInternal(){var result,Super=WebSocketError_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=WebSocketError_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return WebSocketError_possibleConstructorReturn(this,result)}}(WebSocketError);function WebSocketError(_connection,_errorEvent){return function WebSocketError_classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WebSocketError),_super.call(this,"WebSocket error")}return function WebSocketError_createClass(Constructor,protoProps,staticProps){return protoProps&&WebSocketError_defineProperties(Constructor.prototype,protoProps),staticProps&&WebSocketError_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(WebSocketError,[{key:"connection",get:function get(){return this._connection}},{key:"errorEvent",get:function get(){return this._errorEvent}}]),WebSocketError}(WebSocketError_wrapNativeSuper(Error));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var mock_socket=__webpack_require__("./node_modules/mock-socket/dist/mock-socket.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function useClientConnection_stories_slicedToArray(arr,i){return function useClientConnection_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function useClientConnection_stories_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function useClientConnection_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return useClientConnection_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return useClientConnection_stories_arrayLikeToArray(o,minLen)}(arr,i)||function useClientConnection_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function useClientConnection_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"WebSocket/useClientConnection"};var server=null,useClientConnection_stories_Default=function Default(_ref){var sendStringToServer=_ref.sendStringToServer,sendStringToClient=_ref.sendStringToClient,_useState2=useClientConnection_stories_slicedToArray(Object(react.useState)(""),2),clientReceivedMessage=_useState2[0],setClientReceivedMessage=_useState2[1],_useState4=useClientConnection_stories_slicedToArray(Object(react.useState)(""),2),serverReceivedMessage=_useState4[0],setServerReceivedMessage=_useState4[1],url="ws://localhost:3050",serverOnMessage=Object(react.useCallback)((function(data){var update="string"==typeof data?"string: '"+data+"'":data instanceof ArrayBuffer?"ArrayBuffer: "+data.byteLength+" bytes":typeof data;setServerReceivedMessage(update)}),[setServerReceivedMessage]);if(!server)try{(server=new mock_socket.Server(url)).on("connection",(function(socket){socket.on("message",serverOnMessage)}))}catch(e){console.error(e)}var _useClientConnection=function useClientConnection(_ref){var url=_ref.url,_ref$binaryType=_ref.binaryType,binaryType=void 0===_ref$binaryType?"arraybuffer":_ref$binaryType,onOpen=_ref.onOpen,onClose=_ref.onClose,onMessage=_ref.onMessage,onMessageData=_ref.onMessageData,onMessageDataText=_ref.onMessageDataText,onMessageDataArrayBuffer=_ref.onMessageDataArrayBuffer,onMessageDataBlob=_ref.onMessageDataBlob,onError=_ref.onError,_ref$unmountCloseMess=_ref.unmountCloseMessage,unmountCloseMessage=void 0===_ref$unmountCloseMess?"Browsing away":_ref$unmountCloseMess,connection=Object(react.useRef)(void 0),_useState2=_slicedToArray(Object(react.useState)(!1),2),connectionCreated=_useState2[0],setConnectionCreated=_useState2[1],onopen=Object(react.useCallback)((function(event){onOpen&&onOpen(connection.current,event)}),[onOpen]),onclose=Object(react.useCallback)((function(event){onClose&&onClose(connection.current,event)}),[onClose]),onmessageBasic=Object(react.useCallback)((function(event){onMessage&&onMessage(connection.current,event)}),[onMessage]),onmessageData=Object(react.useCallback)((function(event){onMessageData&&onMessageData(connection.current,event.data)}),[onMessageData]),onmessageDataText=Object(react.useCallback)((function(event){onMessageDataText&&"string"==typeof event.data&&onMessageDataText(connection.current,event.data)}),[onMessageDataText]),onmessageDataArrayBuffer=Object(react.useCallback)((function(event){onMessageDataArrayBuffer&&event.data instanceof ArrayBuffer&&onMessageDataArrayBuffer(connection.current,event.data)}),[onMessageDataArrayBuffer]),onmessageDataBlob=Object(react.useCallback)((function(event){onMessageDataBlob&&event.data instanceof Blob&&onMessageDataBlob(connection.current,event.data)}),[onMessageDataBlob]),onmessage=Object(react.useCallback)((function(event){onmessageBasic(event),onmessageData(event),onmessageDataText(event),onmessageDataArrayBuffer(event),onmessageDataBlob(event)}),[onmessageBasic,onmessageData]),onerror=Object(react.useCallback)((function(errorEvent){onError&&onError(connection.current,new WebSocketError(connection.current,errorEvent))}),[onError]),send=Object(react.useCallback)((function(data){if(!connection.current)throw new ConnectionClosedError;connection.current.send(data)}),[]),readyState=Object(react.useCallback)((function(){return connection.current?connection.current.readyState:WebSocket.CLOSED}),[]),close=Object(react.useCallback)((function(code,reason){if(!connection.current)throw new ConnectionClosedError;connection.current.close(code,reason)}),[]);return Object(react.useEffect)((function(){var result=new WebSocket(url);return result.binaryType=binaryType,connection.current=result,setConnectionCreated(!0),function(){result&&result.readyState!==WebSocket.CLOSED&&(result.close(1e3,unmountCloseMessage),setConnectionCreated(!1))}}),[url,binaryType,setConnectionCreated,unmountCloseMessage]),Object(react.useEffect)((function(){connection.current&&(connection.current.onopen=onopen)}),[connectionCreated,onopen]),Object(react.useEffect)((function(){connection.current&&(connection.current.onclose=onclose)}),[connectionCreated,onclose]),Object(react.useEffect)((function(){connection.current&&(connection.current.onmessage=onmessage)}),[connectionCreated,onmessage]),Object(react.useEffect)((function(){connection.current&&(connection.current.onerror=onerror)}),[connectionCreated,onerror]),{send:send,readyState:readyState,close:close}}({url:url,onMessageDataText:function onMessageDataText(_,data){setClientReceivedMessage("string: '"+data+"'")}}),clientSend=_useClientConnection.send;return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsxs)("div",{children:["Client Received: ",clientReceivedMessage]}),Object(jsx_runtime.jsxs)("div",{children:["Server Received: ",serverReceivedMessage]}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("button",{onClick:function onClick(){clientSend(sendStringToServer)},children:"Send String to Server"}),Object(jsx_runtime.jsx)("button",{onClick:function onClick(){server.emit("message",sendStringToClient)},children:"Send String to Client"})]})};useClientConnection_stories_Default.args={sendStringToServer:"Hello from client",sendStringToClient:"Hello from server"},useClientConnection_stories_Default.parameters=Object.assign({storySource:{source:"({ sendStringToServer, sendStringToClient }: Props) => {\n  const [clientReceivedMessage, setClientReceivedMessage] = useState('')\n  const [serverReceivedMessage, setServerReceivedMessage] = useState('')\n\n  const url = 'ws://localhost:3050'\n\n  const serverOnMessage = useCallback(\n    (data: string | Blob | ArrayBuffer | ArrayBufferView) => {\n      const update =\n        typeof data === 'string'\n          ? `string: '${data}'`\n          : data instanceof ArrayBuffer\n          ? `ArrayBuffer: ${data.byteLength} bytes`\n          : `${typeof data}`\n      setServerReceivedMessage(update)\n    },\n    [setServerReceivedMessage]\n  )\n\n  if (!server) {\n    try {\n      server = new Server(url)\n\n      server.on('connection', (socket) => {\n        socket.on('message', serverOnMessage)\n      })\n    } catch (e) {\n      console.error(e)\n    }\n  }\n\n  const { send: clientSend } = useClientConnection({\n    url,\n    onMessageDataText: (_, data: string) => {\n      setClientReceivedMessage(`string: '${data}'`)\n    }\n  })\n\n  return (\n    <>\n      <div>Client Received: {clientReceivedMessage}</div>\n      <div>Server Received: {serverReceivedMessage}</div>\n      <br />\n      <button\n        onClick={() => {\n          clientSend(sendStringToServer)\n        }}\n      >\n        Send String to Server\n      </button>\n\n      <button\n        onClick={() => {\n          server.emit('message', sendStringToClient)\n        }}\n      >\n        Send String to Client\n      </button>\n    </>\n  )\n}"}},useClientConnection_stories_Default.parameters);try{useClientConnection_stories_Default.displayName="Default",useClientConnection_stories_Default.__docgenInfo={description:"",displayName:"Default",props:{sendStringToServer:{defaultValue:null,description:"",name:"sendStringToServer",required:!0,type:{name:"string"}},sendStringToClient:{defaultValue:null,description:"",name:"sendStringToClient",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/WebSocket/useClientConnection.stories.tsx#Default"]={docgenInfo:useClientConnection_stories_Default.__docgenInfo,name:"Default",path:"src/components/WebSocket/useClientConnection.stories.tsx#Default"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/WindowSize/useWindowSize.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/react/index.js");var _useWindowSize__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/WindowSize/useWindowSize.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"useWindowSize"};var Default=function Default(){var _useWindowSize=Object(_useWindowSize__WEBPACK_IMPORTED_MODULE_2__.b)(),width=_useWindowSize.width,height=_useWindowSize.height;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{children:["Window Width: ",width,"px"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{children:["Window Height: ",height,"px"]})]})};Default.parameters=Object.assign({storySource:{source:"() => {\n  const { width, height } = useWindowSize()\n  return (\n    <>\n      <div>Window Width: {width}px</div>\n      <div>Window Height: {height}px</div>\n    </>\n  )\n}"}},Default.parameters)},"./src/components/WindowSize/useWindowSize.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return useWindowSize}));__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/react/index.js");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useWindowSize=function useWindowSize(){var _useState2=_slicedToArray(Object(react__WEBPACK_IMPORTED_MODULE_11__.useState)({width:window.innerWidth,height:window.innerHeight}),2),windowSize=_useState2[0],setWindowSize=_useState2[1];return Object(react__WEBPACK_IMPORTED_MODULE_11__.useEffect)((function(){var handleWindowResize=function handleWindowResize(){setWindowSize({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",handleWindowResize),function(){window.removeEventListener("resize",handleWindowResize)}}),[]),windowSize};__webpack_exports__.a=useWindowSize},"./src/components/mapboxgl/Map.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Map_stories_Default}));__webpack_require__("./node_modules/core-js/modules/es.object.assign.js");var react=__webpack_require__("./node_modules/react/index.js"),mapbox_gl=(__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.js")),mapbox_gl_default=__webpack_require__.n(mapbox_gl),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),LocationInformationDialog_LocationInformationDialog=function LocationInformationDialog(_ref){var longitude=_ref.longitude,latitude=_ref.latitude,zoom=_ref.zoom,showMouse=_ref.showMouse,mouseLongitude=_ref.mouseLongitude,mouseLatitude=_ref.mouseLatitude,showForCode=_ref.showForCode;return Object(jsx_runtime.jsxs)("div",{className:"sidebar",style:{backgroundColor:"rgba(35, 55, 75, 0.9)",color:"#fff",padding:"6px 12px",fontFamily:"monospace",zIndex:1,position:"absolute",top:0,left:0,margin:12,borderRadius:4},children:[Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("div",{children:["Longitude: ",longitude," | Latitude: ",latitude," | Zoom: ",zoom]}),Object(jsx_runtime.jsx)("div",{children:showForCode?'- {"longitude": '+longitude+', "latitude": '+latitude+"}":null})]}),showMouse?Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("div",{children:["Mouse ~ Longitude: ",mouseLongitude," | Latitude: ",mouseLatitude]}),Object(jsx_runtime.jsx)("div",{children:showForCode?'- {"longitude": '+mouseLongitude+', "latitude": '+mouseLatitude+"}":null})]}):null]})};LocationInformationDialog_LocationInformationDialog.displayName="LocationInformationDialog";var mapboxgl_LocationInformationDialog=LocationInformationDialog_LocationInformationDialog;try{LocationInformationDialog_LocationInformationDialog.displayName="LocationInformationDialog",LocationInformationDialog_LocationInformationDialog.__docgenInfo={description:"",displayName:"LocationInformationDialog",props:{longitude:{defaultValue:null,description:"",name:"longitude",required:!0,type:{name:"number"}},latitude:{defaultValue:null,description:"",name:"latitude",required:!0,type:{name:"number"}},zoom:{defaultValue:null,description:"",name:"zoom",required:!0,type:{name:"number"}},showMouse:{defaultValue:null,description:"",name:"showMouse",required:!0,type:{name:"boolean"}},mouseLongitude:{defaultValue:null,description:"",name:"mouseLongitude",required:!0,type:{name:"number"}},mouseLatitude:{defaultValue:null,description:"",name:"mouseLatitude",required:!0,type:{name:"number"}},showForCode:{defaultValue:null,description:"",name:"showForCode",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/mapboxgl/LocationInformationDialog.tsx#LocationInformationDialog"]={docgenInfo:LocationInformationDialog_LocationInformationDialog.__docgenInfo,name:"LocationInformationDialog",path:"src/components/mapboxgl/LocationInformationDialog.tsx#LocationInformationDialog"})}catch(__react_docgen_typescript_loader_error){}var MapContext=Object(react.createContext)({map:null,mapStyleIsDoneLoading:!1});function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var Map_Map=function Map(_ref){var accessToken=_ref.accessToken,startingLongitude=_ref.longitude,longitudeMinMax=_ref.longitudeMinMax,startingLatitude=_ref.latitude,latitudeMinMax=_ref.latitudeMinMax,startingZoom=_ref.zoom,zoomMinMax=_ref.zoomMinMax,_ref$style=_ref.style,style=void 0===_ref$style?"mapbox://styles/mapbox/streets-v11":_ref$style,_ref$showLocation=_ref.showLocation,showLocation=void 0!==_ref$showLocation&&_ref$showLocation,children=_ref.children,mapboxMapRef=_ref.mapboxMapRef,onCenterChange=_ref.onCenterChange,onZoomChange=_ref.onZoomChange,mapContainer=Object(react.useRef)(null),map=Object(react.useRef)(null),_useState2=_slicedToArray(Object(react.useState)(startingLongitude),2),longitude=_useState2[0],setLongitude=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(startingLatitude),2),latitude=_useState4[0],setLatitude=_useState4[1],_useState6=_slicedToArray(Object(react.useState)(startingZoom),2),zoom=_useState6[0],setZoom=_useState6[1],_useState8=_slicedToArray(Object(react.useState)(!1),2),mapStyleIsLoaded=_useState8[0],setMapStyleIsLoaded=_useState8[1],_useState10=_slicedToArray(Object(react.useState)(),2),mouseLocation=_useState10[0],setMouseLocation=_useState10[1],_useState12=_slicedToArray(Object(react.useState)(!1),2),mouseLocationPause=_useState12[0],setMouseLocationPause=_useState12[1];mapbox_gl_default.a.accessToken=accessToken,Object(react.useEffect)((function(){map.current||mapContainer.current&&(map.current=new mapbox_gl_default.a.Map({container:mapContainer.current,style:style,center:[longitude,latitude],zoom:zoom,minZoom:zoomMinMax?zoomMinMax.minimum:void 0,maxZoom:zoomMinMax?zoomMinMax.maximum:void 0,maxBounds:longitudeMinMax&&latitudeMinMax?[[longitudeMinMax.minimum,latitudeMinMax.minimum],[longitudeMinMax.maximum,latitudeMinMax.maximum]]:void 0}),mapboxMapRef&&mapboxMapRef(map))}));var onClick=Object(react.useCallback)((function(){setMouseLocationPause(!mouseLocationPause)}),[mouseLocationPause]),onMapMove=Object(react.useCallback)((function(){if(map.current){var newLngLat=map.current.getCenter();setLongitude(newLngLat.lng),setLatitude(newLngLat.lat),setZoom(map.current.getZoom())}}),[]);Object(react.useEffect)((function(){map.current&&map.current.setCenter([longitude,startingLatitude])}),[startingLatitude]),Object(react.useEffect)((function(){map.current&&map.current.setCenter([startingLongitude,latitude])}),[startingLongitude]),Object(react.useEffect)((function(){onCenterChange&&onCenterChange(longitude,latitude)}),[onCenterChange,longitude,latitude]),Object(react.useEffect)((function(){map.current&&map.current.setZoom(startingZoom)}),[startingZoom]),Object(react.useEffect)((function(){onZoomChange&&onZoomChange(zoom)}),[zoom,onZoomChange]),Object(react.useEffect)((function(){map.current&&(zoomMinMax?(map.current.setMinZoom(zoomMinMax.minimum),map.current.setMaxZoom(zoomMinMax.maximum)):(map.current.setMinZoom(),map.current.setMaxZoom()))}),[zoomMinMax]);var onMouseMove=Object(react.useCallback)((function(event){mouseLocationPause||setMouseLocation(event.lngLat)}),[mouseLocationPause]),onMapLoad=Object(react.useCallback)((function(){setMapStyleIsLoaded(!0)}),[]);return Object(react.useEffect)((function(){if(map.current)return map.current.on("move",onMapMove),function(){map.current&&map.current.off("move",onMapMove)}}),[onMapMove]),Object(react.useEffect)((function(){if(map.current)return map.current.on("mousemove",onMouseMove),function(){map.current&&map.current.off("mousemove",onMouseMove)}}),[onMouseMove]),Object(react.useEffect)((function(){if(map.current)return map.current.on("click",onClick),function(){map.current&&map.current.off("click",onClick)}}),[onClick]),Object(react.useEffect)((function(){if(map.current)return map.current.on("load",onMapLoad),function(){map.current&&map.current.off("load",onMapLoad)}}),[onMapLoad]),Object(jsx_runtime.jsxs)("div",{style:{position:"relative",maxHeight:"100%",height:"100vh"},children:[showLocation?Object(jsx_runtime.jsx)(mapboxgl_LocationInformationDialog,{longitude:longitude,latitude:latitude,zoom:zoom,showMouse:!0,mouseLongitude:mouseLocation?mouseLocation.lng:0,mouseLatitude:mouseLocation?mouseLocation.lat:0,showForCode:!0}):null,Object(jsx_runtime.jsx)("div",{ref:mapContainer,className:"map-container",style:{height:"100%"}}),Object(jsx_runtime.jsx)(MapContext.Provider,{value:{map:map.current,mapStyleIsDoneLoading:mapStyleIsLoaded},children:children})]})};Map_Map.displayName="Map";try{Map_Map.displayName="Map",Map_Map.__docgenInfo={description:"",displayName:"Map",props:{accessToken:{defaultValue:null,description:"",name:"accessToken",required:!0,type:{name:"string"}},longitude:{defaultValue:null,description:"",name:"longitude",required:!0,type:{name:"number"}},longitudeMinMax:{defaultValue:null,description:"",name:"longitudeMinMax",required:!1,type:{name:"MinMax"}},latitude:{defaultValue:null,description:"",name:"latitude",required:!0,type:{name:"number"}},latitudeMinMax:{defaultValue:null,description:"",name:"latitudeMinMax",required:!1,type:{name:"MinMax"}},zoom:{defaultValue:null,description:"",name:"zoom",required:!0,type:{name:"number"}},zoomMinMax:{defaultValue:null,description:"",name:"zoomMinMax",required:!1,type:{name:"MinMax"}},style:{defaultValue:{value:"mapbox://styles/mapbox/streets-v11"},description:"",name:"style",required:!1,type:{name:"string"}},showLocation:{defaultValue:{value:"false"},description:"",name:"showLocation",required:!1,type:{name:"boolean"}},mapboxMapRef:{defaultValue:null,description:"",name:"mapboxMapRef",required:!1,type:{name:"((marker: RefObject<Map>) => void)"}},onCenterChange:{defaultValue:null,description:"",name:"onCenterChange",required:!1,type:{name:"((longitude: number, latitude: number) => void)"}},onZoomChange:{defaultValue:null,description:"",name:"onZoomChange",required:!1,type:{name:"((zoom: number) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/mapboxgl/Map.tsx#Map"]={docgenInfo:Map_Map.__docgenInfo,name:"Map",path:"src/components/mapboxgl/Map.tsx#Map"})}catch(__react_docgen_typescript_loader_error){}__webpack_require__("./node_modules/mapbox-gl/dist/mapbox-gl.css"),__webpack_exports__.default={title:"mapboxgl/Map"};var Map_stories_Default=function Default(_ref){var accessToken=_ref.accessToken,latitude=_ref.latitude,longitude=_ref.longitude,latitudeMinMax=_ref.latitudeMinMax,longitudeMinMax=_ref.longitudeMinMax,zoom=_ref.zoom,zoomMinMax=_ref.zoomMinMax,style=_ref.style,showLocation=_ref.showLocation;return Object(jsx_runtime.jsx)(Map_Map,{accessToken:accessToken,latitude:latitude,longitude:longitude,latitudeMinMax:latitudeMinMax,longitudeMinMax:longitudeMinMax,zoom:zoom,zoomMinMax:zoomMinMax,style:style,showLocation:showLocation})};Map_stories_Default.displayName="Default",Map_stories_Default.args={accessToken:"pk.eyJ1IjoieW9pYW5nIiwiYSI6ImNsMDBrcGFpbzBiemcza25wNWh1amZoZ2MifQ.KMn06a5k42lbtOi7zDPlmA",latitude:40.71,longitude:-73.93,latitudeMinMax:void 0,longitudeMinMax:void 0,zoom:5,zoomMinMax:void 0,style:void 0,showLocation:!1},Map_stories_Default.parameters=Object.assign({storySource:{source:"({\n  accessToken,\n  latitude,\n  longitude,\n  latitudeMinMax,\n  longitudeMinMax,\n  zoom,\n  zoomMinMax,\n  style,\n  showLocation\n}: Props) => {\n  return (\n    <Map\n      accessToken={accessToken}\n      latitude={latitude}\n      longitude={longitude}\n      latitudeMinMax={latitudeMinMax}\n      longitudeMinMax={longitudeMinMax}\n      zoom={zoom}\n      zoomMinMax={zoomMinMax}\n      style={style}\n      showLocation={showLocation}\n    ></Map>\n  )\n}"}},Map_stories_Default.parameters);try{Map_stories_Default.displayName="Default",Map_stories_Default.__docgenInfo={description:"",displayName:"Default",props:{accessToken:{defaultValue:null,description:"",name:"accessToken",required:!0,type:{name:"string"}},latitude:{defaultValue:null,description:"",name:"latitude",required:!0,type:{name:"number"}},longitude:{defaultValue:null,description:"",name:"longitude",required:!0,type:{name:"number"}},latitudeMinMax:{defaultValue:null,description:"",name:"latitudeMinMax",required:!1,type:{name:"MinMax"}},longitudeMinMax:{defaultValue:null,description:"",name:"longitudeMinMax",required:!1,type:{name:"MinMax"}},zoom:{defaultValue:null,description:"",name:"zoom",required:!0,type:{name:"number"}},zoomMinMax:{defaultValue:null,description:"",name:"zoomMinMax",required:!1,type:{name:"MinMax"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"string"}},showLocation:{defaultValue:null,description:"",name:"showLocation",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/mapboxgl/Map.stories.tsx#Default"]={docgenInfo:Map_stories_Default.__docgenInfo,name:"Default",path:"src/components/mapboxgl/Map.stories.tsx#Default"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/three.js/THREEView.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DefaultSizeProperties",(function(){return THREEView_stories_DefaultSizeProperties})),__webpack_require__.d(__webpack_exports__,"FixedSizeProperties",(function(){return FixedSizeProperties})),__webpack_require__.d(__webpack_exports__,"ViewPortSizeProperties",(function(){return ViewPortSizeProperties})),__webpack_require__.d(__webpack_exports__,"FitWindowSizeProperties",(function(){return FitWindowSizeProperties}));__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js");var react=__webpack_require__("./node_modules/react/index.js"),three_module=__webpack_require__("./node_modules/three/build/three.module.js"),Utility_createZeroCenteredBox=function createZeroCenteredBox(width,height){var widthHalf=width/2,heightHalf=height/2;return new three_module.a(new three_module.i(-1*widthHalf,-1*heightHalf),new three_module.i(widthHalf,heightHalf))},useWindowSize=__webpack_require__("./src/components/WindowSize/useWindowSize.ts");function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useWebGLRenderer_useWebGLRenderer=function useWebGLRenderer(container,renderSize,renderPixelRatio,options){var _useState2=_slicedToArray(Object(react.useState)(void 0),2),renderer=_useState2[0],setRenderer=_useState2[1],_useState4=_slicedToArray(Object(react.useState)(void 0),2),rendererDomElement=_useState4[0],setRendererDomElement=_useState4[1],attachRenderer=function attachRenderer(container){removeRenderer();var newRenderer=function createWebGLRenderer(width,height,pixelRatio,options){var result=new three_module.j(options||{antialias:!0,preserveDrawingBuffer:!0,alpha:!0});return result.setPixelRatio(pixelRatio),result.setSize(width,height),result.autoClear=!1,result.setClearColor(0,0),result}(renderSize.x,renderSize.y,renderPixelRatio,options);setRendererDomElement(newRenderer.domElement),container.appendChild(newRenderer.domElement),setRenderer(newRenderer)},removeRenderer=function removeRenderer(){rendererDomElement&&(rendererDomElement.remove(),setRendererDomElement(void 0)),renderer&&(renderer.dispose(),setRenderer(void 0))};return Object(react.useEffect)((function(){container?attachRenderer(container):removeRenderer()}),[container]),Object(react.useEffect)((function(){return function(){removeRenderer()}}),[]),renderer},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function THREEView_slicedToArray(arr,i){return function THREEView_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function THREEView_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function THREEView_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return THREEView_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return THREEView_arrayLikeToArray(o,minLen)}(arr,i)||function THREEView_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function THREEView_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var SizePropertiesDefault={kind:"ViewportSize",viewportSize:10},THREEView=Object(react.forwardRef)((function(props,ref){var containerRef=Object(react.useRef)(null),sizeProperties=THREEView_slicedToArray(Object(react.useState)(props.size||SizePropertiesDefault),1)[0],windowSize=Object(useWindowSize.a)(),_useState4=THREEView_slicedToArray(Object(react.useState)(1),2),renderPixelRatio=_useState4[0],setRenderPixelRatio=_useState4[1];Object(react.useEffect)((function(){var newValue="FitWindowSize"===sizeProperties.kind?sizeProperties.pixelsPerWindowPixel:function physicalToWindowPixelRatio(){return window.devicePixelRatio?window.devicePixelRatio:1}();setRenderPixelRatio(newValue)}),[sizeProperties]);var _useState6=THREEView_slicedToArray(Object(react.useState)(new three_module.i(1,1)),2),renderSize=_useState6[0],setRenderSize=_useState6[1],renderer=useWebGLRenderer_useWebGLRenderer(containerRef.current,renderSize,renderPixelRatio);return Object(react.useEffect)((function(){if(sizeProperties&&containerRef.current){var newValue=function calculateRenderSize(sizeProperties,renderWindow){return"FixedSize"===sizeProperties.kind?new three_module.i(sizeProperties.width,sizeProperties.height):renderWindow?new three_module.i(renderWindow.offsetWidth,renderWindow.offsetHeight):new three_module.i(window.innerWidth,window.innerHeight)}(sizeProperties,containerRef.current);setRenderSize(newValue)}}),[sizeProperties,containerRef.current]),Object(react.useEffect)((function(){renderer&&props.onSetUp()}),[renderer]),Object(react.useEffect)((function(){renderer&&(console.log("Render size",renderSize),renderer.setSize(renderSize.x,renderSize.y))}),[renderer,renderSize]),Object(react.useEffect)((function(){renderer&&renderer.setPixelRatio(renderPixelRatio)}),[renderer,renderPixelRatio]),Object(react.useEffect)((function(){"FitWindowSize"===sizeProperties.kind&&sizeProperties.resizeRendererToFit&&renderer&&setRenderSize(new three_module.i(windowSize.width,windowSize.height))}),[windowSize]),Object(react.useImperativeHandle)(ref,(function(){return{getDOMElementSize:function getDOMElementSize(){if(!containerRef.current)throw new Error("Container reference not available");return new three_module.i(containerRef.current.offsetWidth,containerRef.current.offsetHeight)},getViewPort:function getViewPort(){if(!containerRef.current)throw new Error("Container reference not available");return function createViewPortBox(sizeProperties,renderContainer,renderSize){var newViewPortBox;if("ViewportSize"===sizeProperties.kind){if(!renderContainer)throw new Error("Render window not available");newViewPortBox=Utility_createZeroCenteredBox(sizeProperties.viewportSize,sizeProperties.viewportSize*renderContainer.offsetHeight/renderContainer.offsetWidth)}else newViewPortBox=Utility_createZeroCenteredBox(renderSize.x,renderSize.y);return newViewPortBox}(sizeProperties,containerRef.current,renderSize)},getRenderer:function getRenderer(){if(!renderer)throw new Error("Renderer not available");return renderer},clear:function clear(){renderer&&renderer.clear()},saveToImageData:function saveToImageData(){if(!renderer)throw new Error("Renderer not available");return renderer.domElement.toDataURL("image/png")}}})),Object(jsx_runtime.jsx)("div",{className:"container",style:{position:"absolute",top:0,left:0,bottom:0,right:0,display:"flex",flexDirection:"column",flexGrow:1,flexBasis:0,backgroundColor:"rgba(0, 0, 0, 0.01)",overflow:"hidden"},ref:containerRef})}));try{THREEView.displayName="THREEView",THREEView.__docgenInfo={description:"",displayName:"THREEView",props:{size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"void | SizeProperties"}},onSetUp:{defaultValue:null,description:"Callback called when everything is set up",name:"onSetUp",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/three.js/THREEView.tsx#THREEView"]={docgenInfo:THREEView.__docgenInfo,name:"THREEView",path:"src/components/three.js/THREEView.tsx#THREEView"})}catch(__react_docgen_typescript_loader_error){}var Debug_createAxisGeometry=function createAxisGeometry(){var boxGeometry=new three_module.b,redMaterial=new three_module.e({color:16711680}),greenMaterial=new three_module.e({color:65280}),blueMaterial=new three_module.e({color:255}),x=new three_module.d(boxGeometry,redMaterial);x.position.x=.5,x.scale.y=.1,x.scale.z=.1;var y=new three_module.d(boxGeometry,greenMaterial);y.position.y=.5,y.scale.x=.1,y.scale.z=.1;var z=new three_module.d(boxGeometry,blueMaterial);z.position.z=.5,z.scale.x=.1,z.scale.y=.1;var result=new three_module.c;return result.add(x),result.add(y),result.add(z),result};function THREEView_stories_slicedToArray(arr,i){return function THREEView_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function THREEView_stories_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function THREEView_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return THREEView_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return THREEView_stories_arrayLikeToArray(o,minLen)}(arr,i)||function THREEView_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function THREEView_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"three.js/THREEView",component:THREEView};var THREEView_stories_DefaultSizeProperties=function DefaultSizeProperties(_ref){var size=_ref.size,frameRequest=-1,camera=new three_module.g(75,window.innerWidth/window.innerHeight,.1,1e3);camera.position.z=5;var scene=new three_module.h;scene.add(camera);var axis=Debug_createAxisGeometry();scene.add(axis);var bounds=function createBounds2DGeometry(bounds){var topLeft=Debug_createAxisGeometry();topLeft.position.x=bounds.min.x,topLeft.position.y=bounds.min.y;var topRight=Debug_createAxisGeometry();topRight.position.x=bounds.max.x,topRight.position.y=bounds.min.y;var bottomLeft=Debug_createAxisGeometry();bottomLeft.position.x=bounds.min.x,bottomLeft.position.y=bounds.max.y;var bottomRight=Debug_createAxisGeometry();bottomRight.position.x=bounds.max.x,bottomRight.position.y=bounds.max.y;var result=new three_module.c;return result.add(topLeft),result.add(topRight),result.add(bottomLeft),result.add(bottomRight),result}(new three_module.a(new three_module.i(-3,-3),new three_module.i(3,3)));scene.add(bounds);var ref=Object(react.useRef)(null),_useState2=THREEView_stories_slicedToArray(Object(react.useState)(!1),2),threejsSetup=_useState2[0],setThreejsSetup=_useState2[1],stopRenders=function stopRenders(){-1!==frameRequest&&(cancelAnimationFrame(frameRequest),frameRequest=-1)},animate=function animate(){if(frameRequest=requestAnimationFrame(animate),axis.rotation.x+=.01,axis.rotation.y+=.01,ref.current)try{var renderer=ref.current.getRenderer();renderer.clear(),renderer.render(scene,camera)}catch(error){throw cancelAnimationFrame(frameRequest),error}};return Object(react.useEffect)((function(){threejsSetup&&ref.current&&function startRenders(_threeView){stopRenders(),animate()}(ref.current)}),[ref.current,threejsSetup]),Object(react.useEffect)((function(){return stopRenders}),[]),Object(jsx_runtime.jsx)(THREEView,{ref:ref,size:size,onSetUp:function onSetUp(){setThreejsSetup(!0)}})};THREEView_stories_DefaultSizeProperties.displayName="DefaultSizeProperties",THREEView_stories_DefaultSizeProperties.args={size:SizePropertiesDefault};var FixedSizeProperties=function FixedSizeProperties(_ref2){var width=_ref2.width,height=_ref2.height;return THREEView_stories_DefaultSizeProperties({size:{kind:"FixedSize",width:width,height:height}})};FixedSizeProperties.args={width:10,height:10};var ViewPortSizeProperties=function ViewPortSizeProperties(_ref3){var viewportSize=_ref3.viewportSize;return THREEView_stories_DefaultSizeProperties({size:{kind:"ViewportSize",viewportSize:viewportSize}})};ViewPortSizeProperties.args={viewportSize:10};var FitWindowSizeProperties=function FitWindowSizeProperties(_ref4){var pixelsPerWindowPixel=_ref4.pixelsPerWindowPixel,resizeRendererToFit=_ref4.resizeRendererToFit;return THREEView_stories_DefaultSizeProperties({size:{kind:"FitWindowSize",pixelsPerWindowPixel:pixelsPerWindowPixel,resizeRendererToFit:resizeRendererToFit}})};FitWindowSizeProperties.args={pixelsPerWindowPixel:1,resizeRendererToFit:!0};try{THREEView_stories_DefaultSizeProperties.displayName="DefaultSizeProperties",THREEView_stories_DefaultSizeProperties.__docgenInfo={description:"",displayName:"DefaultSizeProperties",props:{size:{defaultValue:null,description:"",name:"size",required:!0,type:{name:"SizeProperties"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/three.js/THREEView.stories.tsx#DefaultSizeProperties"]={docgenInfo:THREEView_stories_DefaultSizeProperties.__docgenInfo,name:"DefaultSizeProperties",path:"src/components/three.js/THREEView.stories.tsx#DefaultSizeProperties"})}catch(__react_docgen_typescript_loader_error){}try{FixedSizeProperties.displayName="FixedSizeProperties",FixedSizeProperties.__docgenInfo={description:"",displayName:"FixedSizeProperties",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/three.js/THREEView.stories.tsx#FixedSizeProperties"]={docgenInfo:FixedSizeProperties.__docgenInfo,name:"FixedSizeProperties",path:"src/components/three.js/THREEView.stories.tsx#FixedSizeProperties"})}catch(__react_docgen_typescript_loader_error){}try{ViewPortSizeProperties.displayName="ViewPortSizeProperties",ViewPortSizeProperties.__docgenInfo={description:"",displayName:"ViewPortSizeProperties",props:{viewportSize:{defaultValue:null,description:"",name:"viewportSize",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/three.js/THREEView.stories.tsx#ViewPortSizeProperties"]={docgenInfo:ViewPortSizeProperties.__docgenInfo,name:"ViewPortSizeProperties",path:"src/components/three.js/THREEView.stories.tsx#ViewPortSizeProperties"})}catch(__react_docgen_typescript_loader_error){}try{FitWindowSizeProperties.displayName="FitWindowSizeProperties",FitWindowSizeProperties.__docgenInfo={description:"",displayName:"FitWindowSizeProperties",props:{pixelsPerWindowPixel:{defaultValue:null,description:"",name:"pixelsPerWindowPixel",required:!0,type:{name:"number"}},resizeRendererToFit:{defaultValue:null,description:"",name:"resizeRendererToFit",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/three.js/THREEView.stories.tsx#FitWindowSizeProperties"]={docgenInfo:FitWindowSizeProperties.__docgenInfo,name:"FitWindowSizeProperties",path:"src/components/three.js/THREEView.stories.tsx#FitWindowSizeProperties"})}catch(__react_docgen_typescript_loader_error){}},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-interactions/dist/esm/preset/argsEnhancers.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,5,6]]]);